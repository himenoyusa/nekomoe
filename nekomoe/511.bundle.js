(self.webpackChunknekomoe_react=self.webpackChunknekomoe_react||[]).push([[511],{4511:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g}),n(110),n(774),n(5767),n(9115),n(6253),n(6997),n(1181),n(6059),n(522);var r=n(7294),a=n(9075),o=n(8678),i=(n(9371),n(3727)),l=n(7066),c=n(5643);function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(7398);const f=function(){var t=u((0,o.Z)(),1)[0],e=t.lang,n=t.theme,s=u((0,r.useState)([]),2),f=s[0],m=s[1],d=u((0,r.useState)(1),2),h=d[0],y=d[1],p=u((0,r.useState)(16),2),g=p[0],v=p[1],b=u((0,r.useState)(0),2),S=b[0],E=b[1];(0,r.useEffect)((function(){return(0,a.Z)("testData/list.json").then((function(t){200===t.status?(m(t.data),E(t.data.length)):m([])})).catch((function(t){console.log(t)})),function(){m([])}}),[h,g]);var w=function(t,e){y(t),v(e)},A=f.slice((h-1)*g,h*g);return r.createElement(r.Fragment,null,r.createElement("div",{className:"flex-box"},A.map((function(t){return r.createElement("div",{className:"flex-item anime-card",key:t.jpTitle[0]},r.createElement(i.rU,{to:{pathname:"/detail/".concat(t.jpTitle[0]),state:t}},r.createElement("div",{className:"anime-card-img"},r.createElement("div",{style:{backgroundImage:"url(".concat(t.posterUrl,")")}}))),r.createElement(l.Z,{placement:"topLeft",color:"white"===n?"":"#2db7f5",title:t["".concat(e.lang,"Title")][0]},r.createElement("div",{className:"anime-card-title"},t["".concat(e.lang,"Title")][0])),r.createElement("div",{className:"anime-card-note"},r.createElement("span",null,t.year,"-",t.month),r.createElement("div",null,e.status,": ",e[t.status])))}))),r.createElement("div",{className:"mobile-invisible",style:{textAlign:"center",margin:"20px auto"}},r.createElement(c.Z,{current:h,pageSize:g,defaultPageSize:16,pageSizeOptions:[8,16,24,30],total:S,hideOnSinglePage:!0,showSizeChanger:!0,showTotal:function(){return"Total ".concat(S)},onChange:function(t,e){return w(t,e)},onShowSizeChange:function(t,e){return w(1,e)}})),r.createElement("div",{className:"screen-invisible",style:{textAlign:"center",margin:"10px auto"}},r.createElement(c.Z,{current:h,simple:!0,total:S,hideOnSinglePage:!0,showTotal:function(){return"Total ".concat(S)},onChange:function(t,e){return w(t,e)}})))};var m=n(6982);function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const h=function(){var t,e,n=(t=(0,r.useState)([]),e=2,function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];return(0,r.useEffect)((function(){(0,a.Z)("testData/imageList.json").then((function(t){200===t.status&&i(t.data)})).catch((function(){i([])}))}),[]),r.createElement(m.Z,{items:o,onErrorImageURL:"images/2021-01/Gekidol_poster.jpg",slideInterval:1e4,lazyLoad:!0,showThumbnails:!1,showFullscreenButton:!1,showPlayButton:!1,showBullets:!0,autoPlay:!0})};function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(9628);const g=function(){var t=y((0,o.Z)(),1)[0],e=(t.lang,t.theme),n=y((0,r.useState)([]),2),i=n[0],l=n[1],c=y((0,r.useState)(1),2),u=c[0],s=c[1],m=y((0,r.useState)(16),2),d=m[0],p=m[1],g=y((0,r.useState)(0),2),v=g[0],b=g[1];(0,r.useEffect)((function(){return(0,a.Z)("testData/list.json").then((function(t){200===t.status?(l(t.data),b(t.data.length)):l([])})).catch((function(t){console.log(t)})),function(){l([])}}),[u,d]);var S={borderTop:"1px solid ".concat("white"===e?"#ddd":"#444")},E=i.slice((u-1)*d,u*d);return r.createElement(r.Fragment,null,r.createElement("div",{style:S},r.createElement(h,null)),r.createElement("div",{className:"content",style:S},r.createElement(f,{data:E,total:v,changePage:function(t,e){s(t),p(e)}})))}},9075:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var r=n(9669),a=n.n(r),o=n(3727),i=localStorage.getItem("token")||"",l={"X-Requested-With":"XMLHttpRequest"};i&&(l.Authorization="Bearer ".concat(i));var c=a().create({baseURL:"http://localhost:3000",timeout:1e6,headers:l});c.interceptors.response.use((function(t){return t}),(function(t){if(403!==t.status)throw t;(new o.UT).history.push("/login"),console.log("请先登陆")}));const u=c},7398:(t,e,n)=>{"use strict";var r=n(4783)(t.id,{locals:!1});t.hot.dispose(r),t.hot.accept(void 0,r)},9628:(t,e,n)=>{"use strict";var r=n(4783)(t.id,{locals:!1});t.hot.dispose(r),t.hot.accept(void 0,r)}}]);