(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{148:function(e){e.exports=JSON.parse('{"sc":{"lang":"sc","language":"简体","sc":"简体中文","tc":"繁体中文","tc-jp":"繁日双语","sc-jp":"简日双语","jp":"日文","scName":"简体译名","tcName":"繁体译名","jpName":"日文原名","engName":"英文/罗马音标题","co":"合作","coSub":"合作字幕组","sub":"字幕组","rip":"压制组","title":"喵萌奶茶屋","confirm":"确认","cancel":"取消","redirect":"跳转","option":"选项","preview":"预览","homepage":"首页","time":"时间","otherTime":"其他时间","type":"类型","shortAnime":"泡面","anime":"TV动画","movie":"剧场版","ova":"OVA","other":"非动画类","status":"状态","update":"更新中","finished":"完结","info":"作品信息","subInfo":"字幕信息","bgm":"萌番组","dmhy":"动漫花园","nyaa":"Nyaa","subType":"字幕类型","videoType":"合集类型","officialSite":"HP","staff":"Staff","translator":"翻译","translationChecker":"校对","timer":"时轴","effect":"特效","script":"后期","production":"","webRip":"WEB压制","bdRip":"BD压制","poster":"海报","tcTranslator":"繁化","consultant":"顾问","search":"搜索","searchPlaceholder":"请输入作品名","note":"喵萌奶茶屋","copyright":"© 2021 Nekomoe"},"tc":{"lang":"tc","language":"繁體"},"jp":{"lang":"jp","language":"日本語","title":"猫萌え喫茶店","confirm":"確認","cancel":"キャンセル","translator":"翻译","redirect":"跳转","note":"声明","copyright":"© 2021 Nekomoe"}}')},394:function(e,t,n){"use strict";n.r(t);n(33),n(89),n(83),n(84),n(85),n(86),n(81),n(87),n(88),n(90);var a=n(0),r=n.n(a),i=n(109),o=n(385),l=n(225),c=n(2),u=n(19),m=n(97),d=(n(121),n(297),n(298),n(163),n(211),n(162),n(224)),f=n(389),s=n(396),y=n(387),p=n(386),h=n(149),g=n.n(h);function b(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var S=Object(a.memo)((function(){var e=E(Object(a.useState)([]),2),t=e[0],n=e[1],o=E(Object(a.useState)([]),2),l=o[0],c=o[1],u=E(Object(a.useState)([]),2),m=u[0],h=u[1],v=E(Object(a.useState)(""),2),w=v[0],S=v[1],O=E(Object(a.useState)(""),2),k=O[0],j=O[1],I=E(Object(a.useState)(""),2),C=I[0],x=I[1],T=E(Object(a.useState)(1),2),A=T[0],V=T[1],N=E(Object(a.useState)(15),2),U=N[0],z=N[1],D=E(Object(a.useState)(0),2),R=D[0],L=D[1],H=E(Object(a.useState)(!1),2),B=H[0],J=H[1],K=E(Object(a.useState)(""),2),M=K[0],P=K[1],W=function(e){var t=null;e&&(t={type:w,year:k,month:C}),g()("testData/list.json",{params:t}).then((function(e){if(200===e.status){var t=e.data;h(t)}else h([]),c([]),L(0)}))};Object(a.useEffect)((function(){W(),g()("testData/subList.json").then((function(e){200===e.status&&n(e.data)}))}),[]),Object(a.useEffect)((function(){var e=b(m);k&&(e=e.filter((function(e){return e.year===k.toString()}))),C&&(e=e.filter((function(e){return e.month===C}))),L(e.length);var t=e.slice((A-1)*U,A*U);c(t)}),[m,A,U,k,C]);var $=function(){J(!0),console.log(l),J(!1),P(Date.now())},F=function(){for(var e=(new Date).getFullYear(),t=[r.a.createElement(d.a.Option,{value:"",key:""},"全部")],n=e;n>=1970;n-=1)t.push(r.a.createElement(d.a.Option,{value:n,key:n},n));return t},Y=function(){for(var e=[r.a.createElement(d.a.Option,{value:"",key:""},"全部")],t=1;t<=12;t+=1){var n=t.toString();t<10&&(n="0".concat(t)),e.push(r.a.createElement(d.a.Option,{key:n},n))}return e},q=[{title:"日文标题",align:"center",dataIndex:"jpTitle",fixed:"left",width:150,render:function(e,t,n){return r.a.createElement(f.a,{defaultValue:e,title:e,onChange:function(e){l[n].jpTitle=e.target.value,c(l)}})}},{title:"简体标题",align:"center",dataIndex:"scTitle",width:150,render:function(e,t,n){return r.a.createElement(f.a,{defaultValue:e,title:e,onChange:function(e){l[n].scTitle=e.target.value,c(l)}})}},{title:"繁体标题",align:"center",dataIndex:"tcTitle",width:120,render:function(e,t,n){return r.a.createElement(f.a,{defaultValue:e,title:e,onChange:function(e){l[n].tcTitle=e.target.value,c(l)}})}},{title:"英文/罗马音标题",align:"center",dataIndex:"engTitle",width:130,render:function(e,t,n){return r.a.createElement(f.a,{defaultValue:e,title:e,onChange:function(e){l[n].engTitle=e.target.value,c(l)}})}},{title:"HP",align:"center",dataIndex:"officialSite",width:120,render:function(e,t,n){return r.a.createElement(f.a,{defaultValue:e,title:e,onChange:function(e){l[n].officialSite=e.target.value,c(l)}})}},{title:"年份",align:"center",dataIndex:"year",width:90,render:function(e,t,n){return r.a.createElement(d.a,{defaultValue:e,style:{width:75},onChange:function(e){l[n].year=e,c(l)}},F())}},{title:"月份",align:"center",dataIndex:"month",width:80,render:function(e,t,n){return r.a.createElement(d.a,{defaultValue:e,style:{width:60},onChange:function(e){l[n].month=e,c(l)}},Y())}},{title:"海报URL",align:"center",dataIndex:"posterUrl",width:180,render:function(e,t,n){return r.a.createElement(f.a,{placeholder:"多张海报用英文逗号分隔",defaultValue:e,title:e||"多张海报用英文逗号分隔",onChange:function(e){l[n].posterUrl=e.target.value,c(l)}})}},{title:"海报缩略图URL",align:"center",dataIndex:"thumbUrl",width:180,render:function(e,t,n){return r.a.createElement(f.a,{defaultValue:e,title:e,onChange:function(e){l[n].thumbUrl=e.target.value,c(l)}})}},{title:"状态",align:"center",dataIndex:"status",width:120,render:function(e,t,n){return r.a.createElement(d.a,{defaultValue:e,style:{width:100},onChange:function(e){l[n].status=e,c(l)}},r.a.createElement(d.a.Option,{key:""},"无"),r.a.createElement(d.a.Option,{key:"finished"},"完结"),r.a.createElement(d.a.Option,{key:"update"},"更新中"))}},{title:"类型",align:"center",dataIndex:"type",width:120,render:function(e,t,n){return r.a.createElement(d.a,{defaultValue:e,style:{width:100},onChange:function(e){l[n].type=e,c(l)}},r.a.createElement(d.a.Option,{key:""},"无"),r.a.createElement(d.a.Option,{key:"anime"},"季番"),r.a.createElement(d.a.Option,{key:"shortAnime"},"泡面"),r.a.createElement(d.a.Option,{key:"ova"},"OVA"),r.a.createElement(d.a.Option,{key:"movie"},"剧场版"),r.a.createElement(d.a.Option,{key:"other"},"其他"))}},{title:"字幕类型",align:"center",dataIndex:"subType",width:220,render:function(e,t,n){return r.a.createElement(d.a,{maxTagCount:2,mode:"multiple",defaultValue:null==e?void 0:e.split(","),style:{width:200},onChange:function(e){l[n].subType=null==e?void 0:e.toString(),c(l)}},r.a.createElement(d.a.Option,{key:"jp"},"日文"),r.a.createElement(d.a.Option,{key:"sc"},"简中"),r.a.createElement(d.a.Option,{key:"tc"},"繁中"),r.a.createElement(d.a.Option,{key:"sc-jp"},"简日"),r.a.createElement(d.a.Option,{key:"tc-jp"},"繁日"))}},{title:"压制类型",align:"center",dataIndex:"videoType",width:120,render:function(e,t,n){return r.a.createElement(d.a,{defaultValue:e,style:{width:100},onChange:function(e){l[n].videoType=e,c(l)}},r.a.createElement(d.a.Option,{key:""},"无"),r.a.createElement(d.a.Option,{key:"TVRip"},"TVRip"),r.a.createElement(d.a.Option,{key:"WebRip"},"WebRip"),r.a.createElement(d.a.Option,{key:"BDRip"},"BDRip"))}},{title:"合作字幕组",align:"center",dataIndex:"coSub",width:120,render:function(e,n,a){return r.a.createElement(d.a,{maxTagCount:2,mode:"multiple",defaultValue:null==e?void 0:e.split(","),style:{width:100},onChange:function(e){l[a].coSub=null==e?void 0:e.toString(),c(l)}},t.map((function(e){return r.a.createElement(d.a.Option,{key:e.subName},e.subName)})))}},{title:"萌番组外链",align:"center",dataIndex:"bgm",width:120,render:function(e,t,n){return r.a.createElement(f.a,{defaultValue:e,title:e,onChange:function(e){l[n].bgm=e.target.value,c(l)}})}},{title:"动漫花园外链",align:"center",dataIndex:"dmhy",width:120,render:function(e,t,n){return r.a.createElement(f.a,{defaultValue:e,title:e,onChange:function(e){l[n].dmhy=e.target.value,c(l)}})}},{title:"nyaa外链",align:"center",dataIndex:"nyaa",width:120,render:function(e,t,n){return r.a.createElement(f.a,{defaultValue:e,title:e,onChange:function(e){l[n].nyaa=e.target.value,c(l)}})}},{title:"操作",align:"center",fixed:"right",width:100,dataIndex:"cz",render:function(e,t,n){return r.a.createElement("span",null,r.a.createElement(s.a,{title:"确认删除？",placement:"left",onConfirm:function(){return e=n,l.splice(e,1),c(b(l)),$(),void V(1);var e}},r.a.createElement(i.a,{danger:!0,type:"primary"},"删除")))}}],G=0;return q.forEach((function(e){e.width&&(G+=e.width)})),r.a.createElement("div",{style:{border:"1px solid #ccc",padding:"5px 5px 0",width:"100%"}},r.a.createElement(y.a,{layout:"inline"},r.a.createElement(y.a.Item,{label:"选择类型"},r.a.createElement(d.a,{value:w,style:{width:100},onChange:function(e){return S(e)}},r.a.createElement(d.a.Option,{key:""},"全部"),r.a.createElement(d.a.Option,{key:"anime"},"季番"),r.a.createElement(d.a.Option,{key:"shortAnime"},"泡面"),r.a.createElement(d.a.Option,{key:"ova"},"OVA"),r.a.createElement(d.a.Option,{key:"movie"},"剧场版"),r.a.createElement(d.a.Option,{key:"other"},"其他"))),r.a.createElement(y.a.Item,{label:"选择年份"},r.a.createElement(d.a,{value:k,style:{width:100},onChange:function(e){return j(e)}},F())),r.a.createElement(y.a.Item,{label:"选择月份"},r.a.createElement(d.a,{value:C,style:{width:100},onChange:function(e){return x(e)}},Y())),r.a.createElement(y.a.Item,null,r.a.createElement(i.a,{type:"primary",onClick:function(){return W(!0)}},"查询")),r.a.createElement(y.a.Item,null,r.a.createElement(i.a,{type:"primary",onClick:function(){return e={key:Date.now(),type:w,year:k,month:C,subType:["sc","tc"],posterUrl:[]},l.unshift(e),void c(b(l));var e}},"新增")),r.a.createElement(y.a.Item,null,r.a.createElement(i.a,{type:"primary",loading:B,onClick:function(){return $()}},B?"自动保存中":"保存")),M&&r.a.createElement(y.a.Item,{label:"自动保存时间"},M)),r.a.createElement(p.a,{style:{marginTop:5},columns:q,dataSource:l,rowKey:"key",scroll:{x:G,y:window.innerHeight-220},pagination:{current:A,pageSize:U,total:R,showTotal:function(e){return"共 ".concat(e," 条")},onChange:function(e,t){V(e),z(t)},pageSizeOptions:["10","15","20","25","30","50"],showSizeChanger:!0,onShowSizeChange:function(e,t){V(1),z(t)}},bordered:!0,size:"small"}))}));function O(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var C=function(){var e=k(Object(a.useState)([]),2),t=e[0],n=e[1],o=k(Object(a.useState)(1),2),l=o[0],c=o[1],u=k(Object(a.useState)(15),2),m=u[0],h=u[1],b=k(Object(a.useState)(1),2),E=b[0],v=b[1],w=k(Object(a.useState)(!1),2),S=w[0],j=w[1],I=function(){g()("testData/subList.json").then((function(e){200===e.status?(n(e.data),v(e.data.length)):(n([]),v(0))}))};Object(a.useEffect)((function(){I()}),[]);var C=function(){j(!0)},x=[{title:"组名",align:"center",dataIndex:"subName",width:120,render:function(e,t,n){return r.a.createElement(f.a,{value:e,title:e})}},{title:"组名(英/日)",align:"center",dataIndex:"subNameEng",width:120,render:function(e,t,n){return r.a.createElement(f.a,{value:e,title:e})}},{title:"类型",align:"center",dataIndex:"subType",width:120,render:function(e,t,n){return r.a.createElement(d.a,{value:e,style:{width:180},onChange:function(e){return setType(e)}},r.a.createElement(d.a.Option,{key:""},"无"),r.a.createElement(d.a.Option,{key:"sub"},"字幕组"),r.a.createElement(d.a.Option,{key:"rip"},"压制组"))}},{title:"链接",align:"center",dataIndex:"subUrl",width:120,render:function(e,t,n){return r.a.createElement(f.a,{value:e,title:e})}},{title:"操作",align:"center",fixed:"right",width:100,dataIndex:"cz",render:function(e,a,o){return r.a.createElement("span",null,r.a.createElement(s.a,{title:"确认删除？",onConfirm:function(){return e=o,t.splice(e,1),n(O(t)),C(),void c(1);var e}},r.a.createElement(i.a,{danger:!0,type:"primary"},"删除")))}}];return r.a.createElement("div",{style:{border:"1px solid #ccc",padding:5}},r.a.createElement(y.a,{layout:"inline"},r.a.createElement(y.a.Item,null,r.a.createElement(i.a,{type:"primary",onClick:function(){return I()}},"查询")),r.a.createElement(y.a.Item,null,r.a.createElement(i.a,{type:"primary",onClick:function(){return e={key:Date.now()},t.unshift(e),void n(O(t));var e}},"新增")),r.a.createElement(y.a.Item,null,r.a.createElement(i.a,{type:"primary",loading:S,onClick:function(){return C()}},S?"自动保存中":"保存")),autoSaveTime&&r.a.createElement(y.a.Item,{label:"自动保存时间"},autoSaveTime)),r.a.createElement(p.a,{style:{marginTop:5},columns:x,dataSource:t,rowKey:"subName",scroll:{y:window.innerHeight-250},pagination:{current:l,pageSize:m,total:E,showTotal:function(e){return"共 ".concat(e," 条")},onChange:function(e,t){c(e),h(t)},pageSizeOptions:["10","15","20","25","30","50"],showSizeChanger:!0,onShowSizeChange:function(e,t){c(1),h(t)}},bordered:!0,size:"small"}))};function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.default=function(){var e=x(Object(m.a)(),2),t=e[0].token,n=e[1].changeUser,d=Object(c.f)(),f=x(Object(a.useState)("list"),2),s=f[0],y=f[1];if(!t)return n("name: yusa"),"404";return r.a.createElement("div",{style:{width:"100vw",height:"100vh",overflow:"hidden"}},r.a.createElement("div",{style:{height:"64px",lineHeight:"64px",paddingLeft:"24px",backgroundColor:"#001529",borderBottom:"1px solid #ccc"}},r.a.createElement(u.b,{to:"/"},r.a.createElement(i.a,{type:"primary"},"返回首页")),r.a.createElement(i.a,{style:{marginLeft:10},type:"primary",onClick:function(){return n(),void d.push("/")}},"注销")),r.a.createElement(o.a,{style:{height:window.innerHeight-64}},r.a.createElement(o.a.Sider,null,r.a.createElement(l.a,{onClick:function(e){return y(e.key)},selectedKeys:[s],mode:"vertical",theme:"dark"},[{key:"list",name:"作品列表"},{key:"coSub",name:"合作组列表"}].map((function(e){return r.a.createElement(l.a.Item,{key:e.key},e.name)})))),r.a.createElement(o.a.Content,null,"list"===s&&r.a.createElement(S,null),"coSub"===s&&r.a.createElement(C,null))))}},97:function(e,t,n){"use strict";var a,r=n(0),i=n.n(r),o=n(223),l=(n(146),n(147),n(120),n(148)),c={lang:(a=window.localStorage.getItem("lang")||"sc",l[a]),theme:window.localStorage.getItem("theme")||"white",token:window.localStorage.getItem("token")||""},u={changeTheme:function(e,t){!function(e){window.localStorage.setItem("theme",e)}(t),e.setState({theme:t})},changeLang:function(e,t){var n=function(e){if(!Object.keys(l).includes(e))throw new Error("Can't set ".concat(e,"!"));return window.localStorage.setItem("lang",e),l[e]}(t);e.setState({lang:n})},changeUser:function(e,t){!function(e){window.localStorage.setItem("token",e)}(t),e.setState({token:t})}},m=Object(o.a)(i.a,c,u);t.a=m}}]);