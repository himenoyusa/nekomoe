(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{148:function(e){e.exports=JSON.parse('{"sc":{"lang":"sc","language":"简体","sc":"简体中文","tc":"繁体中文","tc-jp":"繁日双语","sc-jp":"简日双语","jp":"日文","scName":"简体译名","tcName":"繁体译名","jpName":"日文原名","engName":"英文/罗马音标题","co":"合作","coSub":"合作字幕组","sub":"字幕组","rip":"压制组","title":"喵萌奶茶屋","confirm":"确认","cancel":"取消","redirect":"跳转","option":"选项","preview":"预览","homepage":"首页","time":"时间","otherTime":"其他时间","type":"类型","shortAnime":"泡面","anime":"TV动画","movie":"剧场版","ova":"OVA","other":"非动画类","status":"状态","update":"更新中","finished":"完结","info":"作品信息","subInfo":"字幕信息","bgm":"萌番组","dmhy":"动漫花园","nyaa":"Nyaa","subType":"字幕类型","videoType":"合集类型","officialSite":"HP","staff":"Staff","translator":"翻译","translationChecker":"校对","timer":"时轴","effect":"特效","script":"后期","production":"","webRip":"WEB压制","bdRip":"BD压制","poster":"海报","tcTranslator":"繁化","consultant":"顾问","search":"搜索","searchPlaceholder":"请输入作品名","note":"喵萌奶茶屋","copyright":"© 2021 Nekomoe"},"tc":{"lang":"tc","language":"繁體"},"jp":{"lang":"jp","language":"日本語","title":"猫萌え喫茶店","confirm":"確認","cancel":"キャンセル","translator":"翻译","redirect":"跳转","note":"声明","copyright":"© 2021 Nekomoe"}}')},399:function(e,t,n){"use strict";n.r(t);n(33),n(89),n(83),n(84),n(85),n(86),n(81),n(87),n(88),n(90);var a=n(0),r=n.n(a),i=n(109),o=n(390),l=n(228),c=n(2),u=n(21),d=n(97),m=(n(123),n(301),n(302),n(165),n(214),n(164),n(384)),f=n(227),s=n(394),y=n(401),p=n(392),h=n(391),g=n(149),b=n.n(g);function E(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var O=Object(a.memo)((function(){var e=v(Object(a.useState)([]),2),t=e[0],n=e[1],o=v(Object(a.useState)([]),2),l=o[0],c=o[1],u=v(Object(a.useState)([]),2),d=u[0],g=u[1],w=v(Object(a.useState)(""),2),S=w[0],O=w[1],k=v(Object(a.useState)(""),2),I=k[0],j=k[1],C=v(Object(a.useState)(""),2),x=C[0],T=C[1],A=v(Object(a.useState)(1),2),V=A[0],N=A[1],U=v(Object(a.useState)(15),2),z=U[0],R=U[1],D=v(Object(a.useState)(0),2),L=D[0],H=D[1],W=v(Object(a.useState)(!1),2),B=W[0],K=W[1],M=v(Object(a.useState)(""),2),J=M[0],P=M[1],$=function(e){b()("http://localhost:3001/collection").then((function(e){if(200===e.status){var t=e.data;g(t[0])}else g([]),c([]),H(0)}))};Object(a.useEffect)((function(){$(),b()("testData/subList.json").then((function(e){200===e.status&&n(e.data)}))}),[]),Object(a.useEffect)((function(){var e=E(d);I&&(e=e.filter((function(e){return e.year===I.toString()}))),x&&(e=e.filter((function(e){return e.month===x}))),H(e.length);var t=e.slice((V-1)*z,V*z);c(t)}),[d,V,z,I,x]);var F=function(){K(!0),b.a.post("http://localhost:3001/collection",l).then((function(e){200===e.status||201===e.status?(m.b.success("保存成功"),P(Date.now())):m.b.error(e.data.message)})),K(!1)},Y=function(){for(var e=(new Date).getFullYear(),t=[r.a.createElement(f.a.Option,{value:"",key:""},"全部")],n=e;n>=1970;n-=1)t.push(r.a.createElement(f.a.Option,{value:n,key:n},n));return t},q=function(){for(var e=[r.a.createElement(f.a.Option,{value:"",key:""},"全部")],t=1;t<=12;t+=1){var n=t.toString();t<10&&(n="0".concat(t)),e.push(r.a.createElement(f.a.Option,{key:n},n))}return e},G=[{title:"日文标题",align:"center",dataIndex:"jpTitle",fixed:"left",width:150,render:function(e,t,n){return r.a.createElement(s.a,{defaultValue:e,title:e,onChange:function(e){l[n].jpTitle=e.target.value,c(l)}})}},{title:"简体标题",align:"center",dataIndex:"scTitle",width:150,render:function(e,t,n){return r.a.createElement(s.a,{defaultValue:e,title:e,onChange:function(e){l[n].scTitle=e.target.value,c(l)}})}},{title:"繁体标题",align:"center",dataIndex:"tcTitle",width:120,render:function(e,t,n){return r.a.createElement(s.a,{defaultValue:e,title:e,onChange:function(e){l[n].tcTitle=e.target.value,c(l)}})}},{title:"英文/罗马音标题",align:"center",dataIndex:"engTitle",width:130,render:function(e,t,n){return r.a.createElement(s.a,{defaultValue:e,title:e,onChange:function(e){l[n].engTitle=e.target.value,c(l)}})}},{title:"HP",align:"center",dataIndex:"officialSite",width:120,render:function(e,t,n){return r.a.createElement(s.a,{defaultValue:e,title:e,onChange:function(e){l[n].officialSite=e.target.value,c(l)}})}},{title:"年份",align:"center",dataIndex:"year",width:90,render:function(e,t,n){return r.a.createElement(f.a,{defaultValue:e,style:{width:75},onChange:function(e){l[n].year=e,c(l)}},Y())}},{title:"月份",align:"center",dataIndex:"month",width:80,render:function(e,t,n){return r.a.createElement(f.a,{defaultValue:e,style:{width:60},onChange:function(e){l[n].month=e,c(l)}},q())}},{title:"海报URL",align:"center",dataIndex:"posterUrl",width:180,render:function(e,t,n){return r.a.createElement(s.a,{placeholder:"多张海报用英文逗号分隔",defaultValue:e,title:e||"多张海报用英文逗号分隔",onChange:function(e){l[n].posterUrl=e.target.value,c(l)}})}},{title:"海报缩略图URL",align:"center",dataIndex:"thumbUrl",width:180,render:function(e,t,n){return r.a.createElement(s.a,{defaultValue:e,title:e,onChange:function(e){l[n].thumbUrl=e.target.value,c(l)}})}},{title:"状态",align:"center",dataIndex:"status",width:120,render:function(e,t,n){return r.a.createElement(f.a,{defaultValue:e,style:{width:100},onChange:function(e){l[n].status=e,c(l)}},r.a.createElement(f.a.Option,{key:""},"无"),r.a.createElement(f.a.Option,{key:"finished"},"完结"),r.a.createElement(f.a.Option,{key:"update"},"更新中"))}},{title:"类型",align:"center",dataIndex:"type",width:120,render:function(e,t,n){return r.a.createElement(f.a,{defaultValue:e,style:{width:100},onChange:function(e){l[n].type=e,c(l)}},r.a.createElement(f.a.Option,{key:""},"无"),r.a.createElement(f.a.Option,{key:"anime"},"季番"),r.a.createElement(f.a.Option,{key:"shortAnime"},"泡面"),r.a.createElement(f.a.Option,{key:"ova"},"OVA"),r.a.createElement(f.a.Option,{key:"movie"},"剧场版"),r.a.createElement(f.a.Option,{key:"other"},"其他"))}},{title:"字幕类型",align:"center",dataIndex:"subType",width:220,render:function(e,t,n){return r.a.createElement(f.a,{maxTagCount:2,mode:"multiple",defaultValue:null==e?void 0:e.split(","),style:{width:200},onChange:function(e){l[n].subType=null==e?void 0:e.toString(),c(l)}},r.a.createElement(f.a.Option,{key:"jp"},"日文"),r.a.createElement(f.a.Option,{key:"sc"},"简中"),r.a.createElement(f.a.Option,{key:"tc"},"繁中"),r.a.createElement(f.a.Option,{key:"sc-jp"},"简日"),r.a.createElement(f.a.Option,{key:"tc-jp"},"繁日"))}},{title:"压制类型",align:"center",dataIndex:"videoType",width:120,render:function(e,t,n){return r.a.createElement(f.a,{defaultValue:e,style:{width:100},onChange:function(e){l[n].videoType=e,c(l)}},r.a.createElement(f.a.Option,{key:""},"无"),r.a.createElement(f.a.Option,{key:"TVRip"},"TVRip"),r.a.createElement(f.a.Option,{key:"WebRip"},"WebRip"),r.a.createElement(f.a.Option,{key:"BDRip"},"BDRip"))}},{title:"合作字幕组",align:"center",dataIndex:"coSub",width:120,render:function(e,n,a){return r.a.createElement(f.a,{maxTagCount:2,mode:"multiple",defaultValue:null==e?void 0:e.split(","),style:{width:100},onChange:function(e){l[a].coSub=null==e?void 0:e.toString(),c(l)}},t.map((function(e){return r.a.createElement(f.a.Option,{key:e.subName},e.subName)})))}},{title:"萌番组外链",align:"center",dataIndex:"bgm",width:120,render:function(e,t,n){return r.a.createElement(s.a,{defaultValue:e,title:e,onChange:function(e){l[n].bgm=e.target.value,c(l)}})}},{title:"动漫花园外链",align:"center",dataIndex:"dmhy",width:120,render:function(e,t,n){return r.a.createElement(s.a,{defaultValue:e,title:e,onChange:function(e){l[n].dmhy=e.target.value,c(l)}})}},{title:"nyaa外链",align:"center",dataIndex:"nyaa",width:120,render:function(e,t,n){return r.a.createElement(s.a,{defaultValue:e,title:e,onChange:function(e){l[n].nyaa=e.target.value,c(l)}})}},{title:"操作",align:"center",fixed:"right",width:100,dataIndex:"cz",render:function(e,t,n){return r.a.createElement("span",null,r.a.createElement(y.a,{title:"确认删除？",placement:"left",onConfirm:function(){return e=n,l.splice(e,1),c(E(l)),F(),void N(1);var e}},r.a.createElement(i.a,{danger:!0,type:"primary"},"删除")))}}],Q=0;return G.forEach((function(e){e.width&&(Q+=e.width)})),r.a.createElement("div",{style:{border:"1px solid #ccc",padding:"5px 5px 0",width:"100%"}},r.a.createElement(p.a,{layout:"inline"},r.a.createElement(p.a.Item,{label:"选择类型"},r.a.createElement(f.a,{value:S,style:{width:100},onChange:function(e){return O(e)}},r.a.createElement(f.a.Option,{key:""},"全部"),r.a.createElement(f.a.Option,{key:"anime"},"季番"),r.a.createElement(f.a.Option,{key:"shortAnime"},"泡面"),r.a.createElement(f.a.Option,{key:"ova"},"OVA"),r.a.createElement(f.a.Option,{key:"movie"},"剧场版"),r.a.createElement(f.a.Option,{key:"other"},"其他"))),r.a.createElement(p.a.Item,{label:"选择年份"},r.a.createElement(f.a,{value:I,style:{width:100},onChange:function(e){return j(e)}},Y())),r.a.createElement(p.a.Item,{label:"选择月份"},r.a.createElement(f.a,{value:x,style:{width:100},onChange:function(e){return T(e)}},q())),r.a.createElement(p.a.Item,null,r.a.createElement(i.a,{type:"primary",onClick:function(){return $(!0)}},"查询")),r.a.createElement(p.a.Item,null,r.a.createElement(i.a,{type:"primary",onClick:function(){return e={key:Date.now(),type:S,year:I,month:x,subType:"sc,tc",posterUrl:""},l.unshift(e),void c(E(l));var e}},"新增")),r.a.createElement(p.a.Item,null,r.a.createElement(i.a,{type:"primary",loading:B,onClick:function(){return F()}},B?"自动保存中":"保存")),J&&r.a.createElement(p.a.Item,{label:"自动保存时间"},J)),r.a.createElement(h.a,{style:{marginTop:5},columns:G,dataSource:l,rowKey:"key",scroll:{x:Q,y:window.innerHeight-220},pagination:{current:V,pageSize:z,total:L,showTotal:function(e){return"共 ".concat(e," 条")},onChange:function(e,t){N(e),R(t)},pageSizeOptions:["10","15","20","25","30","50","300"],showSizeChanger:!0,onShowSizeChange:function(e,t){N(1),R(t)}},bordered:!0,size:"small"}))}));function k(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var x=function(){var e=I(Object(a.useState)([]),2),t=e[0],n=e[1],o=I(Object(a.useState)(1),2),l=o[0],c=o[1],u=I(Object(a.useState)(15),2),d=u[0],m=u[1],g=I(Object(a.useState)(1),2),E=g[0],v=g[1],w=I(Object(a.useState)(!1),2),S=w[0],O=w[1],j=function(){b()("testData/subList.json").then((function(e){200===e.status?(n(e.data),v(e.data.length)):(n([]),v(0))}))};Object(a.useEffect)((function(){j()}),[]);var C=function(){O(!0)},x=[{title:"组名",align:"center",dataIndex:"subName",width:120,render:function(e,t,n){return r.a.createElement(s.a,{value:e,title:e})}},{title:"组名(英/日)",align:"center",dataIndex:"subNameEng",width:120,render:function(e,t,n){return r.a.createElement(s.a,{value:e,title:e})}},{title:"类型",align:"center",dataIndex:"subType",width:120,render:function(e,t,n){return r.a.createElement(f.a,{value:e,style:{width:180},onChange:function(e){return setType(e)}},r.a.createElement(f.a.Option,{key:""},"无"),r.a.createElement(f.a.Option,{key:"sub"},"字幕组"),r.a.createElement(f.a.Option,{key:"rip"},"压制组"))}},{title:"链接",align:"center",dataIndex:"subUrl",width:120,render:function(e,t,n){return r.a.createElement(s.a,{value:e,title:e})}},{title:"操作",align:"center",fixed:"right",width:100,dataIndex:"cz",render:function(e,a,o){return r.a.createElement("span",null,r.a.createElement(y.a,{title:"确认删除？",onConfirm:function(){return e=o,t.splice(e,1),n(k(t)),C(),void c(1);var e}},r.a.createElement(i.a,{danger:!0,type:"primary"},"删除")))}}];return r.a.createElement("div",{style:{border:"1px solid #ccc",padding:5}},r.a.createElement(p.a,{layout:"inline"},r.a.createElement(p.a.Item,null,r.a.createElement(i.a,{type:"primary",onClick:function(){return j()}},"查询")),r.a.createElement(p.a.Item,null,r.a.createElement(i.a,{type:"primary",onClick:function(){return e={key:Date.now()},t.unshift(e),void n(k(t));var e}},"新增")),r.a.createElement(p.a.Item,null,r.a.createElement(i.a,{type:"primary",loading:S,onClick:function(){return C()}},S?"自动保存中":"保存")),autoSaveTime&&r.a.createElement(p.a.Item,{label:"自动保存时间"},autoSaveTime)),r.a.createElement(h.a,{style:{marginTop:5},columns:x,dataSource:t,rowKey:"subName",scroll:{y:window.innerHeight-250},pagination:{current:l,pageSize:d,total:E,showTotal:function(e){return"共 ".concat(e," 条")},onChange:function(e,t){c(e),m(t)},pageSizeOptions:["10","15","20","25","30","50"],showSizeChanger:!0,onShowSizeChange:function(e,t){c(1),m(t)}},bordered:!0,size:"small"}))};function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.default=function(){var e=T(Object(d.a)(),2),t=e[0].token,n=e[1].changeUser,m=Object(c.f)(),f=T(Object(a.useState)("list"),2),s=f[0],y=f[1];if(!t)return n("name: yusa"),"404";return r.a.createElement("div",{style:{width:"100vw",height:"100vh",overflow:"hidden"}},r.a.createElement("div",{style:{height:"64px",lineHeight:"64px",paddingLeft:"24px",backgroundColor:"#001529",borderBottom:"1px solid #ccc"}},r.a.createElement(u.b,{to:"/"},r.a.createElement(i.a,{type:"primary"},"返回首页")),r.a.createElement(i.a,{style:{marginLeft:10},type:"primary",onClick:function(){return n(),void m.push("/")}},"注销")),r.a.createElement(o.a,{style:{height:window.innerHeight-64}},r.a.createElement(o.a.Sider,null,r.a.createElement(l.a,{onClick:function(e){return y(e.key)},selectedKeys:[s],mode:"vertical",theme:"dark"},[{key:"list",name:"作品列表"},{key:"coSub",name:"合作组列表"}].map((function(e){return r.a.createElement(l.a.Item,{key:e.key},e.name)})))),r.a.createElement(o.a.Content,null,"list"===s&&r.a.createElement(O,null),"coSub"===s&&r.a.createElement(x,null))))}},97:function(e,t,n){"use strict";var a,r=n(0),i=n.n(r),o=n(226),l=(n(184),n(147),n(122),n(148)),c={lang:(a=window.localStorage.getItem("lang")||"sc",l[a]),theme:window.localStorage.getItem("theme")||"white",token:window.localStorage.getItem("token")||"",menuKey:{type:"",value:"homepage"},searchWord:""},u={changeTheme:function(e,t){!function(e){window.localStorage.setItem("theme",e)}(t),e.setState({theme:t})},changeLang:function(e,t){var n=function(e){if(!Object.keys(l).includes(e))throw new Error("Can't set ".concat(e,"!"));return window.localStorage.setItem("lang",e),l[e]}(t);e.setState({lang:n})},changeUser:function(e,t){!function(e){window.localStorage.setItem("token",e)}(t),e.setState({token:t})},changeMenu:function(e,t){e.setState({menuKey:t})},changeSearchWord:function(e,t){e.setState({searchWord:t})}},d=Object(o.a)(i.a,c,u);t.a=d}}]);